<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>{% block title %}Driver List{% endblock %}</title>
        <!-- Bootstrap CSS link -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    </head>

    <body>
        <div class="p-3 mb-2 bg-success-subtle text-emphasis-success container-fluid">
 
        <!-- adding a link to home page-->
        <header  style="display: flex; justify-content: space-between;">
            <a href="{{ url_for('home') }}">Home</a>
            <div class="container text-center"> 
                <h5 style="background: linear-gradient(to right, #3498db, #e74c3c); color: #fff; padding: 10px;">Bankside Rakaia Motorkhana Mavens - Competition Event</h5>
                <p> by BRMM Car Club</p>
                <h1>Welcome To Our Monthly Event!</h1>
            </div>
            <!-- ADMIN ENTRY POINT TOP RIGHT CORNER OF HOME PAGE-->
            <a href="{{ url_for('admin') }}">Admin</a>
        </header>
      
        <br>

        <hr class="border border-dark border-1 opacity-50">
        <h2 class="text-center">Driver List</h2>
        <hr class="border border-dark border-1 opacity-50">

        <div class="text-center">
            <a href="{{ url_for('home') }}">
                <button class="btn btn-success">Return</button>
            </a>
        </div>
        
        <br>

        <!-- DISPLAYING A LIST OF DRIVERS IN A TABLE -->

        <caption class="text-center"> * Junior drivers shown in yellow fields</caption>
        <br>
        <br>
        <table class="table table-success table-striped table-hover table-bordered border border-secondary">
            
            <thead>
                <tr>            
                    <th>Driver ID</th>
                    <th>Driver Name</th>
                    <th>Date of Birth</th>
                    <th>Age</th>
                    <th>Caregiver</th>
                    <th>Car Model</th>
                    <th>Drive Class</th>
                </tr>
            </thead>

            <tbody class="table-group-divider">
            
                {% for driver in driver_list %}
                <!-- Setting the background color to yellow for drivers under 25 years old -->
                    {% if driver[3] is defined and driver[3] is not none and driver[3] <= 25 %}
                        <tr class="table-warning" bgcolor="yellow">
                <!-- For all other drivers -->
                    {% else %}
                        <tr>
                    {% endif %}

                <!-- Creating a link to driver's run details page -->
                    <td>{{ driver[0] }}</td>
                    <td><a href="{{ url_for('driversrundetails', driver_name=driver[0]) }}">{{ driver[1] }}</a></td>
                    <td>{{ driver[2] if driver[2] is not none else '' }}</td>
                    <td>{{ driver[3] if driver[3] is not none else '' }}</td>
                    <td>{{ driver[4] if driver[4] is not none else '' }}</td>
                    <td>{{ driver[5] }}</td>
                    <td>{{ driver[6] }}</td>
            
                        </tr>
                {% endfor %}  
            </tbody>
        </table>

        <div class="text-center">
            <a href="{{ url_for('home') }}">
                <button class="btn btn-success">Return</button>
            </a>
        </div>

        <!-- Bootstrap's JavaScript bundle including Popper -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    </body>
</html>

